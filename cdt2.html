<!DOCTYPE html>
<html lang="ja">
<head>
<meta charaset="utf-8">
<meta name="viewport" content="width=device-width" >
<link rel="stylesheet" href="./jqm/jquery.mobile.css" />
<TITLE>CountDownTimer</TITLE>

<script language=JavaScript>
<!--
var link=location.search.substr(1);
var inText=decodeURIComponent(link);
destiny=inText.split('\n')[0];
var timeTable=inText.split('\n')[1];
//alert('destiny='+destiny+'\ntimeTable='+timeTable);
var timeList=timeTable.split(' ');


	
jikan= new Date();
year=jikan.getFullYear();
month=jikan.getMonth()+1;
day=jikan.getDate();
hour = jikan.getHours();
if (hour<10){hour='0'+hour}
minute = jikan.getMinutes();
if (minute<10){minute='0'+minute}
second = jikan.getSeconds();
	
window.onload=showday();
year=2020; //カウントダウン終了　年
month=7; //カウントダウン終了　月
day=24; //カウントダウン終了　日
time=0; //カウントダウン終了　時
xday = new Date(year,month-1,day,time,00,00);
function showday() {
	nowday = new Date();
	passtime= xday.getTime()-nowday.getTime();　

	cnt_day = Math.floor(passtime/(1000*60*60*24));
	passtime = passtime -(cnt_day*(1000*60*60*24)); 
	cnt_hour = Math.floor(passtime/(1000*60*60));
	passtime = passtime -(cnt_hour*(1000*60*60));
	cnt_min = Math.floor(passtime/(1000*60));
	passtime = passtime -(cnt_min*(1000*60));
	cnt_sec = Math.floor(passtime/1000);
	passtime = passtime -(cnt_sec*(1000));
	cnt_millisec = Math.floor(passtime/10);

	if(cnt_min<10){cnt_min = '0' + cnt_min;}
	if(cnt_sec<10){cnt_sec = '0' + cnt_sec;}
	if(cnt_millisec<10){cnt_millisec = '0' + cnt_millisec;}

if((xday - nowday) > 0){
	document.tbox.dspday.value = cnt_hour+"時間"+cnt_min+"分"+cnt_sec+"秒";
}
else {
	document.tbox.dspday.value = "本日分は終了しました。";
}
	timerID = setTimeout('showday()', 10);

	e=document.getElementById("titleElm");
        e.innerHTML="<b>"+destiny+"</b>";
}

// -->
</script>

</head>
<body>
<div id="titleElm"><h1>CountDownTimer</h1></div>
<form name="tbox"><input name="dspday" type="text" style="font-size : 48pt; color : red; text-align : center;border-width : 0px ;font-weight :bold ;" size="70"></form>
</body>
</html>

